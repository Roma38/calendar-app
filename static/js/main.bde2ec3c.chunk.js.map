{"version":3,"sources":["constants.js","utils.js","components/EventColumn.js","components/Calendar.js","store/actions/events.js","components/AddEventForm.js","components/Sidebar.js","App.js","store/reducers/events.js","store/reducers/index.js","store/sagas.js","store/index.js","index.js"],"names":["fakeData","workingHours","weekDays","months","timeRows","eventTypes","color","value","filterEvents","date","events","filterDate","Date","filter","start","end","startDate","endDate","toDateString","getTime","disposeEvent","eventStart","eventEnd","workStart","setHours","workEnd","top","height","convertToTime","splitedTime","toTimeString","split","inputValuesToDate","dateString","timeString","dateParts","timeParts","dateToYYYYmmDD","mm","getMonth","dd","getDate","getFullYear","join","EventColumn","className","map","event","Label","key","id","style","type","title","comment","Calendar","displayedWeek","useState","setDate","useSelector","state","items","currentWeekDay","getDay","currentWeek","i","push","valueOf","calculateWeek","Header","as","textAlign","content","Button","circular","icon","onClick","Input","onChange","e","Table","definition","celled","Row","HeaderCell","weekDay","days","Body","time","Cell","Array","_","index","timeSection","addEventSucceed","payload","selectOptions","text","AddEventForm","closeHandler","startTime","endTime","setEvent","errors","setErrors","dispatch","useDispatch","Form","onSubmit","preventDefault","validationErrors","existingEvents","newEventStart","newEventEnd","find","checkValidity","length","reduce","newID","Group","widths","required","TextArea","label","Select","placeholder","options","Boolean","Message","negative","list","positive","Sidebar","isModalOpened","setIsModalOpened","inverted","List","Item","Icon","name","Content","primary","Modal","open","onClose","size","App","useEffect","loadingState","Dimmer","active","Loader","error","Container","initialState","rootReduser","combineReducers","workerEventsLoadStart","workerAddEvent","watchEventsLoadStart","watchAddEvent","fakeFetch","ms","data","Promise","res","setTimeout","call","put","takeEvery","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bde2ec3c.chunk.js","sourcesContent":["export const fakeData = [\n  {\n    \"id\": 1,\n    \"start\": \"2019-08-05T08:15:00+04:00\",\n    \"end\": \"2019-08-05T14:00:00+04:00\",\n    \"type\": 0,\n    \"comment\": \"Комметарий к событию. Он может быть довольно длинным\"\n  },\n  {\n    \"id\": 2,\n    \"start\": \"2019-08-05T14:30:00+04:00\",\n    \"end\": \"2019-08-05T17:30:00+04:00\",\n    \"type\": 1,\n    \"comment\": null\n  },\n  {\n    \"id\": 3,\n    \"start\": \"2020-07-01T12:00:00.834Z\",\n    \"end\": \"2020-07-01T15:00:00.834Z\",\n    \"type\": 1,\n    \"comment\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec erat risus, fringilla eget suscipit eu, tempor eu nisi. Suspendisse quam dui, consequat quis tempus vel, tristique a risus. Aliquam facilisis purus quis maximus dignissim. Mauris mi risus, mollis condimentum semper sit amet, interdum a nisi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Pellentesque venenatis elit nec pretium imperdiet. Nunc ut eros enim. Quisque eros nulla, rhoncus vitae convallis ut, aliquet ut nisl. Phasellus placerat massa eu mattis faucibus. Mauris laoreet, urna in consequat egestas, tortor ex molestie lectus, sit amet suscipit urna diam a dui. Vivamus maximus vitae nunc ac molestie. Sed dapibus ligula non mauris vestibulum pulvinar.\"\n  },\n  {\n    \"id\": 4,\n    \"start\": \"2020-07-02T08:00:00.834Z\",\n    \"end\": \"2020-07-02T10:00:00.834Z\",\n    \"type\": 1,\n    \"comment\": null\n  },\n];\n\nexport const workingHours = { start: 8, end: 18 };\nexport const weekDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\nexport const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n//TODO: было бы хорошо генерировать timeRows на основе workingHours\nexport const timeRows = [\"8am\", \"8:30am\", \"9am\", \"9:30am\", \"10am\", \"10:30am\", \"11am\", \"11:30am\", \"12pm\", \"12:30pm\", \"1pm\", \"1:30pm\", \"2pm\", \"2:30pm\", \"3pm\", \"3:30pm\", \"4pm\", \"4:30pm\", \"5pm\", \"5:30pm\"];\nexport const eventTypes = [\n  { color: \"teal\", value: \"Выделено для текущей организации\" },\n  { color: \"green\", value: \"Выделено для другой организации\" },\n  { color: \"blue\", value: \"Выделено вами\" },\n  { color: \"violet\", value: \"Выделено менеджером\" },\n  { color: \"yellow\", value: \"Нерабочее время (перерыв)\" }\n];\n","import { workingHours, fakeData, months } from \"./constants\";\n\nexport function calculateWeek(date) {\n  const currentWeekDay = date.getDay();\n  const currentWeek = [];\n\n  for (let i = 0; i < 7; i++) {\n    currentWeek.push(new Date(date.valueOf() + (i - currentWeekDay) * 24 * 60 * 60 * 1000));\n  }\n\n  return currentWeek;\n};\n\nexport function filterEvents(date, events) {\n  const filterDate = new Date(date);\n\n  return events.filter(({ start, end }) => {\n    const startDate = new Date(start);\n    const endDate = new Date(end);\n\n    return startDate.toDateString() === filterDate.toDateString()\n      || endDate.toDateString() === filterDate.toDateString()\n      || (date > startDate.getTime() && date < endDate.getTime())\n  })\n};\n\nexport function disposeEvent({ start, end }, date) {\n  const eventStart = new Date(start);\n  const eventEnd = new Date(end);\n  const workStart = new Date(date.setHours(workingHours.start));\n  const workEnd = new Date(date.setHours(workingHours.end));\n\n  const top = workStart > eventStart ? 0 : (100 * (eventStart - workStart) / (workEnd - workStart)) + \"%\";\n  const height = (((eventEnd < workEnd ? eventEnd : workEnd) - (eventStart > workStart ? eventStart : workStart)) * 100 / (workEnd - workStart)) + \"%\";\n\n  return { top, height };\n}\n\nexport function convertToTime(date) {\n  const splitedTime = new Date(date).toTimeString().split(\":\");\n\n  return `${splitedTime[0]}:${splitedTime[1]}`\n}\n\nexport function inputValuesToDate(dateString, timeString = \"0\") {\n  const dateParts = dateString.split('-');\n  const timeParts = timeString.split(':');\n  dateParts[1] -= 1;\n\n  return dateParts ? new Date(...dateParts, ...timeParts) : null;\n}\n\nexport function dateToYYYYmmDD(date) {\n  const mm = date.getMonth() + 1;\n  const dd = date.getDate();\n\n  return [date.getFullYear(), (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('-');\n};\n\nexport function checkValidity({ startDate, startTime, endDate, endTime }, events) {\n  const errors = [];\n  const existingEvents = events.map(({ start, end }) => ({ start: new Date(start), end: new Date(end) }));\n  const newEventStart = inputValuesToDate(startDate, startTime);\n  const newEventEnd = inputValuesToDate(endDate, endTime);\n\n  if (existingEvents.find(event => (\n    (newEventStart > event.start && newEventStart < event.end) ||\n    (newEventEnd > event.start && newEventEnd < event.end) ||\n    (event.start > newEventStart && event.start < newEventEnd && event.end > newEventStart && event.end < newEventEnd)\n  ))) {\n    errors.push(\"New event shouldn't cross with existing\");\n  }\n\n  if (newEventStart >= newEventEnd) {\n    errors.push(\"Event can't start before it's over\");\n  }\n\n  return errors;\n}\n\nexport function generateID() {\n  return fakeData.reduce((newID, { id }) => newID < id ? id++ : newID, 0)\n}\n\nexport function generateHeaderContent(displayedWeek) {\n  if (displayedWeek[0].getFullYear() !== displayedWeek[6].getFullYear()) {\n    return `${displayedWeek[0].getDate()} ${months[displayedWeek[0].getMonth()]} ${displayedWeek[0].getFullYear()} - \n      ${displayedWeek[6].getDate()} ${months[displayedWeek[6].getMonth()]} ${displayedWeek[6].getFullYear()}`\n  } else if (displayedWeek[0].getMonth() !== displayedWeek[6].getMonth()) {\n    return `${displayedWeek[0].getDate()} ${months[displayedWeek[0].getMonth()]} - \n      ${displayedWeek[6].getDate()} ${months[displayedWeek[6].getMonth()]} ${displayedWeek[6].getFullYear()}`\n  } else {\n    return `${displayedWeek[0].getDate()} - ${displayedWeek[6].getDate()} \n      ${months[displayedWeek[6].getMonth()]} ${displayedWeek[6].getFullYear()}`\n  }\n}\n","import React from 'react';\nimport { Label } from \"semantic-ui-react\";\n\nimport { eventTypes, workingHours } from \"../constants\"\nimport { disposeEvent, convertToTime } from \"../utils\";\n\nfunction EventColumn({ date, events }) {\n//TODO: по клику на событие, показывать модалку с комментарием и временем\n  return (\n    <div className=\"events-layer__col\">\n      {events.map(event => <Label\n        key={event.id}\n        className=\"event-block\"\n        style={disposeEvent(event, date)}\n        color={eventTypes[event.type].color}\n        title={event.comment}\n      >\n        <p>\n          {date.setHours(workingHours.start) < new Date(event.start) ? convertToTime(event.start) : workingHours.start + \":00\"} - \n          {date.setHours(workingHours.end) > new Date(event.end) ? convertToTime(event.end) : workingHours.end + \":00\"}\n        </p>\n        <p>{event.comment}</p>\n      </Label>)}\n    </div>\n  );\n}\n\nexport default EventColumn;","import React, { useState, Fragment } from 'react';\nimport { Table, Header, Button, Input } from \"semantic-ui-react\";\nimport { useSelector } from \"react-redux\";\n\nimport EventColumn from \"./EventColumn\";\nimport { timeRows, weekDays as days, months } from \"../constants\";\nimport { calculateWeek, filterEvents, inputValuesToDate, dateToYYYYmmDD, generateHeaderContent } from \"../utils\";\n\nconst timeSection = time => <Fragment key={time}>\n  <Table.Row>\n    <Table.Cell>{time}</Table.Cell>\n    {[...Array(7)].map((_, index) => <Table.Cell key={index} />)}\n  </Table.Row>\n  <Table.Row>\n    {[...Array(8)].map((_, index) => <Table.Cell key={index} />)}\n  </Table.Row>\n</Fragment>\n\nfunction Calendar() {\n  const [date, setDate] = useState(new Date(new Date().setHours(0, 0, 0, 0)));\n  const events = useSelector(state => state.events.items);\n\n  const weekDays = calculateWeek(date);\n\n  return (\n    <>\n      <div className=\"calendar-wrapper\">\n        <Header as=\"h1\" textAlign=\"center\">Calendar</Header>\n        <Header as=\"h2\" textAlign=\"center\" content={generateHeaderContent(weekDays)} />\n\n        <div className=\"calendar-navigation\">\n          <Button circular icon='arrow left' onClick={() => setDate(new Date(date.setDate(date.getDate() - 7)))} />\n          <Input\n            type=\"date\"\n            value={dateToYYYYmmDD(date)}\n            onChange={(e, { value }) => value ? setDate(inputValuesToDate(value)) : null} />\n          <Button circular icon='arrow right' onClick={() => setDate(new Date(date.setDate(date.getDate() + 7)))} />\n        </div>\n\n        <div className=\"events-layer\">\n          {weekDays.map(date => <EventColumn key={date} date={date} events={filterEvents(date, events)} />)}\n        </div>\n\n        <Table definition celled className=\"calendar\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell />\n              {weekDays.map(weekDay => <Table.HeaderCell key={weekDay}>\n                {`${days[weekDay.getDay()]}, ${months[weekDay.getMonth()]} ${weekDay.getDate()}`}\n              </Table.HeaderCell>)}\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body>\n            {timeRows.map(time => timeSection(time))}\n          </Table.Body>\n        </Table>\n      </div>\n    </>\n  );\n}\n\nexport default Calendar;","export const EVENTS_LOADING = \"EVENTS_LOADING\";\nexport const EVENTS_LOAD_SUCCEED = \"EVENTS_LOAD_SUCCEED\";\nexport const EVENTS_LOAD_FAILED = \"EVENTS_LOAD_FAILED\";\nexport const ADD_EVENT = \"ADD_EVENT\";\nexport const ADD_EVENT_SUCCEED = \"ADD_EVENT_SUCCEED\"\n\nexport const eventsLoadStart = () => ({ type: EVENTS_LOADING });\n\nexport const eventsLoadSucceed = payload => ({\n  type: EVENTS_LOAD_SUCCEED,\n  payload\n});\n\nexport const eventsLoadFailed = error => ({\n  type: EVENTS_LOAD_FAILED,\n  payload: error\n});\n\nexport const addEvent = payload => ({\n  type: ADD_EVENT,\n  payload\n});\n\nexport const addEventSucceed = payload => ({\n  type: ADD_EVENT_SUCCEED,\n  payload\n});\n\n\n\n","import React, { useState } from \"react\";\nimport { Form, Button, Label, Message } from \"semantic-ui-react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { eventTypes } from \"../constants\";\nimport { checkValidity, inputValuesToDate, generateID } from \"../utils\";\nimport { addEvent } from \"../store/actions/events\";\n\nconst selectOptions = eventTypes.map(({ value }, index) => ({ key: value, value: index, text: value }))\n\nfunction AddEventForm({ closeHandler }) {\n  const [event, setEvent] = useState({ startDate: \"\", startTime: \"\", endDate: \"\", endTime: \"\", comment: \"\", type: 0 });\n  const [errors, setErrors] = useState([]);\n  const dispatch = useDispatch();\n  const events = useSelector(state => state.events.items);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    const validationErrors = checkValidity(event, events);\n\n    if (validationErrors.length) {\n      setErrors(validationErrors);\n    } else {\n      const start = inputValuesToDate(event.startDate, event.startTime);\n      const end = inputValuesToDate(event.endDate, event.endTime);\n      const id = generateID();\n\n      dispatch(addEvent({ id, start, end, comment: event.comment, type: event.type }));\n      closeHandler();\n    }\n\n  };\n\n  return (\n    <Form onSubmit={submitHandler}>\n      <Form.Group widths='equal'>\n        <Label>Start:\n          <Form.Input\n            type=\"date\"\n            value={event.startDate}\n            onChange={(e, { value }) => setEvent({ ...event, startDate: value })}\n            required\n          />\n          <Form.Input\n            type=\"time\"\n            value={event.startTime}\n            onChange={(e, { value }) => setEvent({ ...event, startTime: value })}\n            required\n          />\n        </Label>\n\n        <Label>End:\n        <Form.Input\n            type=\"date\"\n            value={event.endDate}\n            onChange={(e, { value }) => setEvent({ ...event, endDate: value })}\n            required\n          />\n          <Form.Input\n            type=\"time\"\n            value={event.endTime}\n            onChange={(e, { value }) => setEvent({ ...event, endTime: value })}\n            required\n          />\n        </Label>\n      </Form.Group>\n\n      <Form.TextArea\n        label=\"Comment:\"\n        value={event.comment}\n        onChange={(e, { value }) => setEvent({ ...event, comment: value })}\n      />\n      <Form.Select\n        label=\"Type:\"\n        placeholder=\"Pick the type\"\n        value={event.type}\n        onChange={(e, { value }) => setEvent({ ...event, type: +value })}\n        required\n        options={selectOptions}\n      />\n\n      {Boolean(errors.length) && <Message negative list={errors} />}\n\n      <Button type=\"submit\" positive>Add</Button>\n      <Button onClick={closeHandler} negative>Cancel</Button>\n    </Form>\n  );\n}\nexport default AddEventForm;\n","import React, { useState } from 'react';\nimport { List, Header, Button, Modal } from \"semantic-ui-react\";\n\nimport AddEventForm from \"./AddEventForm\";\nimport { eventTypes } from \"../constants\";\n\nfunction Sidebar() {\n  const [isModalOpened, setIsModalOpened] = useState(false);\n\n  return (\n    <aside className=\"sidebar\">\n      <Header as=\"h2\" inverted>Legend</Header>\n\n      <List inverted>\n        <List.Item >\n          <List.Icon name='circle' />\n          <List.Content>Свободное время</List.Content>\n        </List.Item>\n        {eventTypes.map(({ color, value }) => <List.Item key={color}>\n          <List.Icon name='circle' color={color} />\n          <List.Content>{value}</List.Content>\n        </List.Item>)}\n      </List>\n\n      <Button onClick={() => setIsModalOpened(true)} primary>+ Add new event</Button>\n      <Modal open={isModalOpened} onClose={() => setIsModalOpened(false)} size=\"tiny\" >\n        <Header icon='plus' content='Add new event' />\n        <Modal.Content>\n          <AddEventForm closeHandler={() => setIsModalOpened(false)} />\n        </Modal.Content>\n      </Modal>\n    </aside>\n  );\n}\n\nexport default Sidebar;\n","import React, { useEffect } from 'react';\nimport { Container, Dimmer, Loader, Message } from \"semantic-ui-react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Calendar from \"./components/Calendar\";\nimport Sidebar from \"./components/Sidebar\";\nimport { eventsLoadStart } from \"./store/actions/events\"\nimport './App.scss';\n\nfunction App() {\n  const events = useSelector(state => state.events);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(eventsLoadStart());\n  }, [dispatch]);\n\n  return (\n    <>\n      {events.loadingState === \"loading\" &&\n        <Dimmer active>\n          <Loader>Loading</Loader>\n        </Dimmer>}\n\n      {events.loadingState === \"failed\" &&\n        <Message negative>\n          <Message.Header>Looks like, something went wrong</Message.Header>\n          <p>{events.error}</p>\n        </Message>}\n\n      {events.loadingState === \"succeed\" && <>\n        <Container as=\"main\" className=\"application\">\n          <Calendar />\n        </Container>\n        <Sidebar />\n      </>}\n    </>\n\n  );\n}\n\nexport default App;\n","import {\n  EVENTS_LOADING,\n  EVENTS_LOAD_SUCCEED,\n  EVENTS_LOAD_FAILED,\n  ADD_EVENT_SUCCEED\n} from \"../actions/events\";\n\nconst initialState = {\n  loadingState: \"\",\n  error: null,\n  items: []\n};\n\nexport const eventsReduser = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case EVENTS_LOADING:\n      return { ...state, loadingState: \"loading\", error: null };\n    case EVENTS_LOAD_SUCCEED:\n      return { ...state, loadingState: \"succeed\", items: payload, error: null };\n    case EVENTS_LOAD_FAILED:\n      return {\n        ...state,\n        loadingState: \"failed\",\n        error: payload,\n        items: []\n      };\n    case ADD_EVENT_SUCCEED:\n      return {\n        ...state,\n        loadingState: \"succeed\",\n        error: null,\n        items: [...state.items, payload],\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { eventsReduser as events } from \"./events\";\n\nconst rootReduser = combineReducers({\n  events\n});\n\nexport default rootReduser;\n","import { put, takeEvery, call } from 'redux-saga/effects'\nimport { fakeData } from \"../constants\";\nimport { EVENTS_LOADING, eventsLoadSucceed, ADD_EVENT, addEventSucceed } from \"./actions/events\";\n\nconst fakeFetch = (ms, data) => new Promise(res => setTimeout(() => res(data), ms))\n\n// Workers\nfunction* workerEventsLoadStart() {\n  const data = yield call(() => fakeFetch(500, fakeData));\n\n  yield put(eventsLoadSucceed(data));\n}\n\nfunction* workerAddEvent({ payload }) {\n  const data = yield call(() => fakeFetch(500, payload));\n\n  yield put(addEventSucceed(data));\n}\n\n// Watchers\n\nexport function* watchEventsLoadStart() {\n  yield takeEvery(EVENTS_LOADING, workerEventsLoadStart);\n}\n\nexport function* watchAddEvent() {\n  yield takeEvery(ADD_EVENT, workerAddEvent);\n}\n\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport createSagaMiddleware from 'redux-saga';\n\nimport rootReducer from \"./reducers/index\";\nimport { watchEventsLoadStart, watchAddEvent } from './sagas'\n\nconst sagaMiddleware = createSagaMiddleware();\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(sagaMiddleware))\n);\n\nsagaMiddleware.run(watchAddEvent);\nsagaMiddleware.run(watchEventsLoadStart);\n\nexport default store;\n","import 'react-app-polyfill/ie11';  // Enable IE11\nimport 'react-app-polyfill/stable';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport \"semantic-ui-css/semantic.min.css\";\nimport { Provider } from \"react-redux\";\n\nimport store from \"./store/index\";\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}